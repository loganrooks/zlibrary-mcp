---
phase: 06-documentation-quality-gates
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - .claude/ROADMAP.md
  - .claude/PROJECT_CONTEXT.md
  - .claude/ARCHITECTURE.md
  - .claude/VERSION_CONTROL.md
  - ISSUES.md
  - README.md
  - docs/adr/ADR-005-EAPI-Migration.md
  - docs/adr/ADR-009-Python-Monolith-Decomposition.md
  - docs/adr/ADR-010-MCP-SDK-Upgrade.md
autonomous: true

must_haves:
  truths:
    - "ROADMAP.md shows all 7 phases complete with correct dates and plan counts"
    - "PROJECT_CONTEXT.md references UV, EAPI, MCP SDK 1.25+, decomposed Python modules"
    - "ARCHITECTURE.md reflects current component structure (lib/rag/ modules, eapi_client, 12 tools)"
    - "ISSUES.md has ISSUE-002 closed, ISSUE-008/009 updated, SRCH-001/RAG-002 partially implemented"
    - "README.md reflects current project state (UV, EAPI, decomposed Python, MCP SDK 1.25+)"
    - "7 docs have Last Verified: 2026-02-01 — ROADMAP.md, PROJECT_CONTEXT.md, ARCHITECTURE.md, VERSION_CONTROL.md, README.md, ISSUES.md, CI_CD.md"
    - "3 new ADRs exist: ADR-005 (EAPI migration), ADR-009 (Python decomposition), ADR-010 (MCP SDK upgrade)"
  artifacts:
    - path: ".claude/ROADMAP.md"
      provides: "Current phase status with correct dates"
    - path: "ISSUES.md"
      provides: "Triaged issues reflecting post-cleanup state"
    - path: "docs/adr/ADR-005-EAPI-Migration.md"
      provides: "Decision record for EAPI migration"
    - path: "docs/adr/ADR-009-Python-Monolith-Decomposition.md"
      provides: "Decision record for Python decomposition"
    - path: "docs/adr/ADR-010-MCP-SDK-Upgrade.md"
      provides: "Decision record for MCP SDK upgrade"
  key_links:
    - from: ".claude/ARCHITECTURE.md"
      to: ".claude/PROJECT_CONTEXT.md"
      via: "Component references match project context"
      pattern: "EAPI|lib/rag/"
    - from: "ISSUES.md"
      to: "docs/adr/ADR-005-EAPI-Migration.md"
      via: "ISSUE-API-001 resolved by EAPI migration ADR"
      pattern: "ADR-005|EAPI"
    - from: "README.md"
      to: ".claude/ARCHITECTURE.md"
      via: "Quick start and architecture consistency"
      pattern: "UV|EAPI|MCP SDK"
---

<objective>
Update all stale documentation to reflect the current post-cleanup codebase state (phases 1-7 complete, EAPI migration, Python decomposition, MCP SDK 1.25+, UV-based deps). Triage ISSUES.md. Add "Last Verified" timestamps. Backfill 3 ADRs.

Purpose: Documentation accuracy prevents confusion for future development sessions and establishes a clean baseline.
Output: Updated docs in .claude/, README.md, ISSUES.md, and 3 new ADR files.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/06-documentation-quality-gates/06-CONTEXT.md
@.planning/phases/06-documentation-quality-gates/06-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Update core .claude/ docs and README.md</name>
  <files>
    .claude/ROADMAP.md
    .claude/PROJECT_CONTEXT.md
    .claude/ARCHITECTURE.md
    .claude/VERSION_CONTROL.md
    README.md
  </files>
  <action>
Read each file, then update to reflect current state:

**ROADMAP.md**: This is .planning/ROADMAP.md's counterpart in .claude/. If it exists, update it to show all 7 phases complete with dates. If .claude/ROADMAP.md IS .planning/ROADMAP.md (symlink or same file), update the Phase 6 section to show "2 plans" instead of "TBD", and update the Progress table. Remove any references to "current" phases being 1-5 — all are complete.

**PROJECT_CONTEXT.md**: Update to reflect v2.0.0 UV migration complete, EAPI transport (not HTML scraping), MCP SDK 1.25+, Python monolith decomposed into lib/rag/ domain modules, 12 MCP tools. Remove references to pre-cleanup state. Add note about future Anna's Archive direction.

**ARCHITECTURE.md**: Update component list to include lib/rag/ submodules (utils, detection, processors, quality, ocr, xmark, orchestrator, footnotes), eapi_client.py, and current test coverage. Update the data flow to mention EAPI JSON endpoints instead of HTML scraping. Note 12 tools (including get_recent_books, get_book_metadata, search_by_term, search_by_author, search_advanced, fetch_booklist).

**VERSION_CONTROL.md**: Update dates from 2025 to current. Verify branch strategy still accurate. Add note about completed cleanup phases.

**README.md** (project root): Major update — reflect UV-based setup, EAPI transport, MCP SDK 1.25+, decomposed Python, all 12 tools. Update "Quick Start" section for UV. Remove references to old venv/pip workflow. Keep Z-Library credential requirements.

Add `<!-- Last Verified: 2026-02-01 -->` near the top of each updated file (after title/frontmatter).
  </action>
  <verify>
grep -l "Last Verified: 2026-02-01" .claude/ROADMAP.md .claude/PROJECT_CONTEXT.md .claude/ARCHITECTURE.md .claude/VERSION_CONTROL.md README.md — all 5 files should match.
grep "EAPI" README.md — should find references to EAPI transport.
grep "lib/rag/" .claude/ARCHITECTURE.md — should find decomposed module references.
  </verify>
  <done>All 5 docs reflect current codebase state (UV, EAPI, MCP SDK 1.25+, decomposed Python), contain no stale 2025 references as "current", and have Last Verified timestamps.</done>
</task>

<task type="auto">
  <name>Task 2: Triage ISSUES.md and backfill 3 ADRs</name>
  <files>
    ISSUES.md
    docs/adr/ADR-005-EAPI-Migration.md
    docs/adr/ADR-009-Python-Monolith-Decomposition.md
    docs/adr/ADR-010-MCP-SDK-Upgrade.md
  </files>
  <action>
**ISSUES.md triage:**
1. Read current ISSUES.md
2. Close ISSUE-002 (venv manager test warnings — resolved by UV migration in Phase 2)
3. Update ISSUE-008/009 status to reflect partial completion from phases 1-7
4. Mark SRCH-001 (fuzzy search) as partially implemented (search_advanced tool exists)
5. Mark RAG-002 as partially implemented (Python decomposition improved quality pipeline)
6. Update ISSUE-API-001 (Cloudflare blocking) as resolved by EAPI migration
7. Re-triage all remaining open issue severities against post-cleanup state
8. Add any new issues discovered during phases 1-7 (e.g., Docker numpy issue from 04-03, pip-audit false positives for vendored fork)
9. Add `<!-- Last Verified: 2026-02-01 -->` timestamp
10. Add a brief note in a "Future Direction" section about Anna's Archive expansion plans

**Backfill 3 ADRs** following existing ADR format (see docs/adr/ADR-002*, ADR-003*, ADR-004* for format):

**ADR-005: EAPI Migration** — Context: Cloudflare blocking HTML requests. Decision: Migrate all API calls to EAPI JSON endpoints. Consequences: No HTML parsing in hot path, booklists gracefully degrade, downloads still use legacy client.

**ADR-009: Python Monolith Decomposition** — Context: rag_processing.py was 4,968 lines. Decision: Decompose into lib/rag/ domain modules with facade pattern. Consequences: All modules under 500 lines, zero test modifications, facade preserves backward compat.

**ADR-010: MCP SDK Upgrade** — Context: SDK 1.8.0 outdated with security vulns. Decision: Upgrade to 1.25+ using McpServer API with server.tool() registration. Consequences: Removed zod-to-json-schema, simplified tool registration, 12 tools registered.
  </action>
  <verify>
grep -c "RESOLVED\|CLOSED\|Resolved\|Closed" ISSUES.md — should show at least 2 resolved issues.
ls docs/adr/ADR-005* docs/adr/ADR-009* docs/adr/ADR-010* — all 3 files exist.
grep "Last Verified: 2026-02-01" ISSUES.md — timestamp present.
  </verify>
  <done>ISSUES.md is triaged with ISSUE-002 closed, API-001 resolved, SRCH-001/RAG-002 partially implemented, and 3 new ADRs document key Phase 1-7 decisions.</done>
</task>

</tasks>

<verification>
1. All 5 core docs + ISSUES.md have "Last Verified: 2026-02-01"
2. No doc references "Phase 2 as current" or uses Oct 2025 dates as "current state"
3. README.md mentions EAPI, UV, MCP SDK 1.25+
4. 3 new ADR files exist in docs/adr/
5. ISSUES.md has resolved/closed items for ISSUE-002 and ISSUE-API-001
</verification>

<success_criteria>
All documentation reflects the post-cleanup codebase state. A developer reading any doc gets an accurate picture of the current system. 3 ADRs capture the major architectural decisions from phases 3, 4, and 7.
</success_criteria>

<output>
After completion, create `.planning/phases/06-documentation-quality-gates/06-01-SUMMARY.md`
</output>
