# Requirements Archive: v1.0 Audit Cleanup & Modernization

**Archived:** 2026-02-01
**Status:** ✅ SHIPPED

This is the archived requirements specification for v1.0.
For current requirements, see `.planning/REQUIREMENTS.md` (created for next milestone).

---

## v1 Requirements

### Integration Testing

- [x] **TEST-01**: Integration smoke test that invokes real PythonShell bridge from Node.js
- [x] **TEST-02**: Docker-based E2E test that starts MCP server and calls a tool

### Dependency Updates

- [x] **DEP-01**: Update env-paths 3.0 to 4.0 *(DEFERRED: env-paths v4 requires Node 20+; project on Node 18)*
- [x] **DEP-02**: Migrate Zod 3.x to 4.x *(Completed as Zod 3.25.x bridge — full Zod 4 deferred)*
- [x] **DEP-03**: Update MCP SDK 1.8.0 to latest (upgraded to 1.25.3)
- [x] **DEP-04**: Run npm audit and pip-audit; fix high/critical vulnerabilities (15 fixed)
- [x] **DEP-05**: Add .tsbuildinfo to .gitignore *(pre-completed)*

### Code Quality

- [x] **QUAL-01**: Fix bare exception handler in booklist_tools.py:267
- [x] **QUAL-02**: Decompose rag_processing.py into modular package (31 modules in lib/rag/)
- [x] **QUAL-03**: Create facade in rag_processing.py that re-exports public API (201 lines)
- [x] **QUAL-04**: Clean up resolved BUG-X FIX comments
- [x] **QUAL-05**: Convert DEBUG comments to proper logging
- [x] **QUAL-06**: Specify parser in BeautifulSoup calls (lxml)

### Branch Cleanup

- [x] **GIT-01**: Delete 5 merged remote branches
- [x] **GIT-02**: Delete obsolete self-modifying-system branch
- [x] **GIT-03**: Port metadata scraping tool from get_metadata branch
- [x] **GIT-04**: Port enhanced filename conventions from get_metadata branch
- [x] **GIT-05**: Port author/title in search results from get_metadata branch
- [x] **GIT-06**: Delete get_metadata branch after port complete

### Documentation

- [x] **DOC-01**: Update ROADMAP.md to reflect current state
- [x] **DOC-02**: Update PROJECT_CONTEXT.md with v2.0.0 status (UV migration)
- [x] **DOC-03**: Update ARCHITECTURE.md with current test coverage and components
- [x] **DOC-04**: Update VERSION_CONTROL.md and CI_CD.md to current dates
- [x] **DOC-05**: Triage ISSUES.md (close ISSUE-002, update ISSUE-008/009)
- [x] **DOC-06**: Add "Last Verified" timestamps to technical docs
- [x] **DOC-07**: Install pre-commit hooks

### Infrastructure

- [x] **INFRA-01**: Add npm audit + pip-audit to CI pipeline
- [x] **INFRA-02**: Add Python version check to setup script
- [x] **INFRA-03**: Verify BRK-001 status

## Traceability

| Requirement | Phase | Status |
|-------------|-------|--------|
| TEST-01 | Phase 1 | Complete |
| TEST-02 | Phase 1 | Complete |
| DEP-01 | Phase 2 | Complete (deferred: env-paths v4 needs Node 20+) |
| DEP-02 | Phase 2 | Complete (Zod 3.25.x bridge) |
| DEP-03 | Phase 3 | Complete |
| DEP-04 | Phase 2 | Complete |
| DEP-05 | Phase 2 | Complete (pre-existing) |
| QUAL-01 | Phase 2 | Complete |
| QUAL-02 | Phase 4 | Complete |
| QUAL-03 | Phase 4 | Complete |
| QUAL-04 | Phase 4 | Complete |
| QUAL-05 | Phase 4 | Complete |
| QUAL-06 | Phase 2 | Complete |
| GIT-01 | Phase 5 | Complete |
| GIT-02 | Phase 5 | Complete |
| GIT-03 | Phase 5 | Complete |
| GIT-04 | Phase 5 | Complete |
| GIT-05 | Phase 5 | Complete |
| GIT-06 | Phase 5 | Complete |
| DOC-01 | Phase 6 | Complete |
| DOC-02 | Phase 6 | Complete |
| DOC-03 | Phase 6 | Complete |
| DOC-04 | Phase 6 | Complete |
| DOC-05 | Phase 6 | Complete |
| DOC-06 | Phase 6 | Complete |
| DOC-07 | Phase 6 | Complete |
| INFRA-01 | Phase 6 | Complete |
| INFRA-02 | Phase 6 | Complete |
| INFRA-03 | Phase 1 | Complete |

---

## Milestone Summary

**Shipped:** 28 of 28 v1 requirements
**Adjusted:**
- DEP-01: env-paths v4 deferred (requires Node 20+)
- DEP-02: Zod 3.25.x bridge instead of full Zod 4

**Dropped:** None

---
*Archived: 2026-02-01 as part of v1.0 milestone completion*
