# Example pyproject.toml for UV Migration (v2.0.0)
#
# This file shows what the UV-based configuration would look like.
# To use: Rename to pyproject.toml and run: uv sync
#
# DO NOT USE YET - This is for planning/review only

[project]
name = "zlibrary-mcp"
version = "2.0.0"
description = "Z-Library MCP server for AI assistants"
readme = "README.md"
requires-python = ">=3.9"
authors = [
    { name = "loganrooks" }
]
keywords = ["mcp", "zlibrary", "ai", "books", "library"]
license = { text = "MIT" }

# Core dependencies for zlibrary-mcp functionality
# Based on actual usage from lib/*.py analysis
dependencies = [
    # Document processing
    "pymupdf>=1.26.0",           # PDF processing (fitz)
    "ebooklib>=0.19",            # EPUB processing

    # HTTP and async
    "httpx>=0.28.0",             # HTTP client (used in booklists, advanced_search)
    "aiofiles>=24.1.0",          # Async file operations

    # HTML parsing
    "beautifulsoup4>=4.14.0",    # HTML parsing
    "lxml>=6.0.0",               # XML/HTML parser (bs4 backend)
]

# Vendored zlibrary package (editable install from ./zlibrary)
# UV will automatically install this from local path
[tool.uv.sources]
zlibrary = { path = "./zlibrary", editable = true }

# Optional dependencies
[project.optional-dependencies]
# OCR capabilities for scanned PDFs (not currently active)
ocr = [
    "pytesseract>=0.3.10",
    "pdf2image>=1.16.0",
    "pillow>=11.0.0",
]

# Development and testing
dev = [
    "pytest>=8.4.0",
    "pytest-asyncio>=1.2.0",
    "pytest-mock>=3.15.0",
    "pytest-benchmark>=5.1.0",
]

[project.urls]
Homepage = "https://github.com/loganrooks/zlibrary-mcp"
Repository = "https://github.com/loganrooks/zlibrary-mcp.git"
Issues = "https://github.com/loganrooks/zlibrary-mcp/issues"

[build-system]
requires = ["hatchling"]
build-backend = "hatchling.build"

# UV-specific configuration
[tool.uv]
# Development dependencies (alternative syntax)
dev-dependencies = [
    "pytest>=8.4.0",
    "pytest-asyncio>=1.2.0",
    "pytest-mock>=3.15.0",
    "pytest-benchmark>=5.1.0",
]

# UV configuration options
[tool.uv.pip]
# Use PyPI as default index
index-url = "https://pypi.org/simple"

# Notes:
# - zlibrary will be installed as editable from ./zlibrary
# - All transitive dependencies handled automatically
# - uv.lock will be generated on first: uv sync
# - To add deps: uv add package-name
# - To install optional: uv sync --extra ocr
